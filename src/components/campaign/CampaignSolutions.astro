---
import type { SolutionCard } from '../../types';
import { solutionsCards } from '@consts';
import { Icon } from 'astro-icon/components';
import ButtonPill from '@components/Button/ButtonPill.astro';
---

<section class="page__section dark">
	<div class="section">
		<header>
			<div>
				<span class="tag">Unlimited custom solutions, built exactly how you want</span>
				<h3 class="section__heading">AI Teammates for Every Task You Can Imagine</h3>
			</div>
			<div class="cta__container">
				<ButtonPill label="Let's talk" id="solutions-cta-button" />
				<Icon name="big-arrow" class="big__arrow" />
			</div>
		</header>

		<div class="solutions-swiper">
			<div class="swiper-wrapper w-full">
				{
					solutionsCards.map((solution: SolutionCard) => (
						<div class="swiper-slide">
							<div class="card dark__glass" data-selector={solution.selector}>
								<div class="card__header">
									<Icon name={solution.icon} class="card__icon text-primary" size={28} />
									<h4>{solution.category}</h4>
								</div>
								<ul class="card__content">
									{solution.features.map((feature) => (
										<li>{feature}</li>
									))}
								</ul>
							</div>
						</div>
					))
				}
			</div>
			<div class="swiper-navigation">
				<div class="swiper-button-prev dark__glass">
					<svg xmlns="http://www.w3.org/2000/svg" width="21" height="19" viewBox="0 0 21 19" fill="none">
						<path
							d="M11.5149 1.27627L20.0501 9.81156M20.0501 9.81156L11.5149 18.3469M20.0501 9.81156H0.893821"
							stroke="currentColor"></path>
					</svg>
				</div>
				<div class="swiper-button-next dark__glass">
					<svg xmlns="http://www.w3.org/2000/svg" width="21" height="19" viewBox="0 0 21 19" fill="none">
						<path
							d="M11.5149 1.27627L20.0501 9.81156M20.0501 9.81156L11.5149 18.3469M20.0501 9.81156H0.893821"
							stroke="currentColor"></path>
					</svg>
				</div>
			</div>
		</div>
	</div>
</section>

<style>
	header {
		margin-bottom: 48px;
	}

	.tag {
		color: rgb(var(--clr-violet));
		font-family: var(--font-titles);
		font-size: 16px;
		font-weight: 400;
		line-height: 20px;
	}
	h3,
	h4,
	li {
		color: rgb(var(--clr-white));
	}

	.card {
		height: 100%;
		padding: 24px 32px;
		border: 1px solid rgba(var(--clr-white), 0.3);
	}

	.card__header {
		display: flex;
		gap: 8px;
		margin-bottom: 12px;
	}

	h4 {
		font-size: 24px;
		line-height: 1.2;
	}

	ul {
		padding-left: 10px;
	}

	li {
		list-style-type: disc;
		list-style-position: inside;
	}

	.big__arrow[data-icon] {
		width: 120px;
		height: 120px;
	}

	.cta__container {
		display: flex;
		flex-direction: column;
		align-items: flex-start;
		gap: 48px;
		margin-block: 48px;
	}

	@media (min-width: 768px) {
		header {
			display: flex;
			margin-bottom: 64px;
			gap: 48px;
		}

		.cta__container {
			margin-block: auto 0;
			align-items: flex-end;
			max-height: 120px;
		}

		h4 {
			font-size: 28px;
		}

		.cta__container {
			flex-shrink: 0;
			flex-direction: row-reverse;
		}
	}

	@media (min-width: 1280px) {
		.big__arrow[data-icon] {
			width: 200px;
			height: 200px;
		}
	}

	/* Navigation buttons styling */
	.swiper-navigation {
		display: flex;
		justify-content: center;
		align-items: center;
		gap: 16px;
		margin-top: 24px;
	}

	.swiper-button-next,
	.swiper-button-prev {
		position: static;
		width: 48px;
		height: 48px;
		background: rgba(0, 0, 0, 0);
		border: 1px solid rgba(255, 255, 255, 0.2);
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		cursor: pointer;
		transition: all 0.3s ease;
		margin: 0;
		color: #fff;
	}

	.swiper-button-disabled {
		opacity: 0.3;
		pointer-events: none;
	}

	.swiper-button-next:hover,
	.swiper-button-prev:hover {
		background: rgba(255, 255, 255, 0.1);
		border-color: rgba(255, 255, 255, 0.4);
		transform: scale(1.05);
	}

	.swiper-button-prev {
		transform: rotate(180deg);
	}

	.swiper-button-prev:hover {
		transform: rotate(180deg) scale(1.05);
	}

	.swiper-button-next::after,
	.swiper-button-prev::after {
		display: none;
	}

	.swiper-slide {
		height: auto;
	}

	@media (min-width: 768px) {
		.swiper-navigation {
			margin-top: 32px;
		}
	}
</style>

<script>
	import Swiper from 'swiper';
	import { Navigation } from 'swiper/modules';
	import 'swiper/css';

	// Initialize Swiper
	document.addEventListener('DOMContentLoaded', function () {
		new Swiper('.solutions-swiper', {
			modules: [Navigation],
			slidesPerView: 1,
			navigation: {
				nextEl: '.swiper-button-next',
				prevEl: '.swiper-button-prev',
			},
			breakpoints: {
				768: {
					slidesPerView: 2,
				},
				1024: {
					slidesPerView: 3,
				},
			},
		});
	});
</script>
