---
import MinimalLayout from '@layouts/MinimalLayout.astro';
import ZcalWidget from '@components/ZcalWidget.astro';

// All blog posts for collections/AI focus
const allPosts = [
  {
    title: "Why 75% of Collections Agents Quit Within 3 Months",
    excerpt: "The collections industry faces a burnout crisis that's costing financial institutions billions. Here's how AI is changing the game for both agents and debtors.",
    date: "November 15, 2024",
    category: "Industry Insights",
    readTime: "5 min read",
    author: "Gonza",
    slug: "collections-agent-burnout-crisis",
    href: "/blog/collections-agent-burnout-crisis"
  },
  {
    title: "The Real Cost of Manual Collections in 2024",
    excerpt: "Most lenders don't realize they're losing millions to inefficient collections. We break down the hidden costs.",
    date: "November 10, 2024",
    category: "ROI Analysis",
    readTime: "7 min read",
    author: "JM",
    slug: "real-cost-manual-collections",
    href: "/blog/real-cost-manual-collections"
  },
  {
    title: "How Vana Cut Collection Costs by 70% with AI",
    excerpt: "Case study: How a Guatemala microlender transformed their collections with Kleva's AI agents.",
    date: "November 5, 2024",
    category: "Case Study",
    readTime: "6 min read",
    author: "Juli",
    slug: "vana-case-study",
    href: "/blog/vana-case-study"
  },
  {
    title: "LATAM's $67 Billion Collections Problem",
    excerpt: "77.5% of Brazilian families are in debt. 60% delinquency rates in fintech. The old way isn't working.",
    date: "October 28, 2024",
    category: "Market Analysis",
    readTime: "8 min read",
    author: "Gonza",
    slug: "latam-collections-problem",
    href: "/blog/latam-collections-problem"
  },
  {
    title: "Why Debtors Actually Prefer Talking to AI",
    excerpt: "Surprising research shows customers are more likely to pay when speaking with AI agents. Here's why.",
    date: "October 20, 2024",
    category: "Technology",
    readTime: "4 min read",
    author: "Santi",
    slug: "debtors-prefer-ai",
    href: "/blog/debtors-prefer-ai"
  },
  {
    title: "Building AI That Speaks Real Spanish",
    excerpt: "The technical challenges of building voice AI for LATAM markets and how we solved them.",
    date: "October 15, 2024",
    category: "Technology",
    readTime: "10 min read",
    author: "Os",
    slug: "ai-speaks-real-spanish",
    href: "/blog/ai-speaks-real-spanish"
  }
];

const categories = [
  { name: "All", count: 15 },
  { name: "Industry Insights", count: 4 },
  { name: "Case Studies", count: 3 },
  { name: "Technology", count: 5 },
  { name: "ROI Analysis", count: 3 }
];
---

<MinimalLayout title="Blog - Kleva AI Collections Insights" description="Insights on AI, collections, and the future of financial services in Latin America">
  <main class="blog-page">
    <!-- Hero Section -->
    <section class="hero">
      <div class="container">
        <div class="hero-content">
          <span class="hero-label">INSIGHTS</span>
          <h1>The future of collections is here</h1>
          <p class="hero-subtitle">
            Deep dives into AI, debt collection, and financial innovation in Latin America
          </p>
        </div>
      </div>
    </section>

    <!-- Blog Grid -->
    <section class="blog-section">
      <div class="container">
        <div class="blog-layout">
          <!-- Sidebar -->
          <aside class="blog-sidebar">
            <div class="sidebar-section">
              <h3>Categories</h3>
              <ul class="category-list">
                {categories.map((cat) => (
                  <li>
                    <a href="#" class={cat.name === "All" ? "active" : ""}>
                      <span>{cat.name}</span>
                      <span class="count">{cat.count}</span>
                    </a>
                  </li>
                ))}
              </ul>
            </div>

            <div class="sidebar-section">
              <h3>Newsletter</h3>
              <p>Get weekly insights on AI and collections</p>
              <form class="newsletter-form">
                <input type="email" placeholder="Your email" required />
                <button type="submit">Subscribe</button>
              </form>
            </div>

            <div class="sidebar-section cta-box">
              <h3>See Kleva in action</h3>
              <p>Watch AI collect debt in perfect Spanish</p>
              <ZcalWidget mode="popup" buttonText="Book demo" />
            </div>
          </aside>

          <!-- Posts Grid -->
          <div class="posts-grid">
            {allPosts.map((post) => (
              <article class="post-card">
                <div class="post-meta">
                  <span class="category">{post.category}</span>
                  <span class="separator">â€¢</span>
                  <span class="date">{post.date}</span>
                </div>
                <h3>
                  <a href={post.href || `/blog/${post.slug}`}>{post.title}</a>
                </h3>
                <p>{post.excerpt}</p>
                <div class="post-footer">
                  <span class="author">By {post.author}</span>
                  <span class="read-time">{post.readTime}</span>
                </div>
              </article>
            ))}
          </div>
        </div>

        <!-- Load More -->
        <div class="load-more">
          <button class="load-more-btn">Load more articles</button>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
      <div class="container">
        <div class="cta-content">
          <h2>Ready to transform your collections?</h2>
          <p>Join leading financial institutions already using Kleva</p>
          <ZcalWidget mode="popup" buttonText="Book a 15-minute intro call" />
        </div>
      </div>
    </section>
  </main>
</MinimalLayout>

<style>
  .blog-page {
    padding-top: var(--header-height-desktop);
  }

  /* Hero */
  .hero {
    padding: 120px 0 80px;
    background: linear-gradient(180deg, var(--color-gray-50) 0%, var(--color-white) 100%);
  }

  .hero-content {
    text-align: center;
    max-width: 720px;
    margin: 0 auto;
  }

  .hero-label {
    display: inline-block;
    font-size: 12px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-gray-500);
    margin-bottom: 24px;
  }

  .hero h1 {
    font-size: 48px;
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: 24px;
    color: var(--color-black);
  }

  .hero-subtitle {
    font-size: 18px;
    line-height: 1.6;
    color: var(--color-gray-600);
  }

  /* Blog Layout */
  .blog-section {
    padding: 80px 0 80px;
    background: var(--color-white);
  }

  .blog-layout {
    display: grid;
    grid-template-columns: 280px 1fr;
    gap: 64px;
  }

  /* Sidebar */
  .blog-sidebar {
    position: sticky;
    top: 100px;
    height: fit-content;
  }

  .sidebar-section {
    margin-bottom: 48px;
  }

  .sidebar-section h3 {
    font-size: 14px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-gray-500);
    margin-bottom: 20px;
  }

  .category-list {
    list-style: none;
  }

  .category-list li {
    margin-bottom: 12px;
  }

  .category-list a {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 12px;
    color: var(--color-gray-600);
    text-decoration: none;
    border-radius: 6px;
    transition: all 0.2s ease;
    font-size: 14px;
  }

  .category-list a:hover {
    background: var(--color-gray-50);
    color: var(--color-black);
  }

  .category-list a.active {
    background: var(--color-black);
    color: var(--color-white);
  }

  .category-list .count {
    font-size: 12px;
    opacity: 0.6;
  }

  .newsletter-form {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .newsletter-form input {
    padding: 10px 12px;
    border: 1px solid var(--color-gray-300);
    border-radius: 6px;
    font-size: 14px;
  }

  .newsletter-form button {
    padding: 10px 12px;
    background: var(--color-black);
    color: var(--color-white);
    border: none;
    border-radius: 6px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: background 0.2s ease;
  }

  .newsletter-form button:hover {
    background: var(--color-gray-800);
  }

  .cta-box {
    padding: 24px;
    background: var(--color-gray-50);
    border-radius: 12px;
  }

  .cta-box p {
    font-size: 14px;
    color: var(--color-gray-600);
    margin-bottom: 16px;
  }

  /* Posts Grid */
  .posts-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 32px;
  }

  .post-card {
    padding: 32px;
    background: var(--color-gray-50);
    border-radius: 12px;
    transition: all 0.3s ease;
  }

  .post-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
  }

  .post-meta {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 12px;
    color: var(--color-gray-500);
    margin-bottom: 16px;
  }

  .category {
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .separator {
    opacity: 0.3;
  }

  .post-card h3 {
    font-size: 20px;
    font-weight: 600;
    margin-bottom: 12px;
    line-height: 1.3;
  }

  .post-card h3 a {
    color: var(--color-black);
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .post-card h3 a:hover {
    color: var(--color-gray-700);
  }

  .post-card p {
    font-size: 14px;
    line-height: 1.6;
    color: var(--color-gray-600);
    margin-bottom: 16px;
  }

  .post-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 13px;
    color: var(--color-gray-500);
  }

  .read-more {
    color: var(--color-black);
    text-decoration: none;
    font-weight: 500;
    transition: transform 0.2s ease;
    display: inline-block;
  }

  .read-more:hover {
    transform: translateX(4px);
  }

  /* Load More */
  .load-more {
    text-align: center;
    margin-top: 64px;
  }

  .load-more-btn {
    padding: 12px 32px;
    background: var(--color-white);
    color: var(--color-black);
    border: 1px solid var(--color-gray-300);
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .load-more-btn:hover {
    background: var(--color-gray-50);
    border-color: var(--color-gray-400);
  }

  /* CTA Section */
  .cta-section {
    padding: 80px 0;
    background: linear-gradient(180deg, var(--color-gray-50) 0%, var(--color-white) 100%);
  }

  .cta-content {
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
  }

  .cta-content h2 {
    font-size: 36px;
    font-weight: 700;
    margin-bottom: 16px;
    color: var(--color-black);
  }

  .cta-content p {
    font-size: 16px;
    color: var(--color-gray-600);
    margin-bottom: 32px;
  }

  /* Responsive */
  @media (max-width: 968px) {
    .hero h1 {
      font-size: 32px;
    }

    .blog-layout {
      grid-template-columns: 1fr;
    }

    .blog-sidebar {
      position: static;
      order: 2;
    }

    .posts-grid {
      grid-template-columns: 1fr;
    }

    .featured-content h2 {
      font-size: 24px;
    }

    .blog-page {
      padding-top: var(--header-height-mobile);
    }
  }

  /* Container */
  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 24px;
  }
</style>